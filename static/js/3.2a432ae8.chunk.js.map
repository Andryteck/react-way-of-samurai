{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","assets/images/Share.png","assets/images/like.png","assets/images/ava-small.jpg","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileInfo","profile","className","s","descriptionBlock","src","photos","large","userImage","pageAvatar","isOwner","type","target","files","length","savePhoto","Post","share","color","backgroundImage","shareImg","like","likeImg","ava","avaImg","item","style","postName","postMessage","message","likeBtns","likeCount","likesCount","maxLength10","maxLengthCreator","AddNewPostFormRedux","reduxForm","form","onSubmitSuccess","result","dispatch","reset","onSubmit","handleSubmit","Field","name","component","MyPostTextarea","validate","required","placeholder","addItemButton","MyPosts","postElement","postData","map","post","key","id","postsBlock","values","addPost","newPostText","posts","MyPostsContainer","connect","state","profilePage","actions","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","React","Component","compose","WithAuthRedirect","withRouter","auth","isAuth"],"mappings":"uHACAA,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,WAAa,kC,oBCAxFD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,MAAQ,uBAAuB,cAAgB,iC,oBCA1GD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,SAAW,uBAAuB,YAAc,0BAA0B,SAAW,uBAAuB,MAAQ,oBAAoB,KAAO,mBAAmB,UAAY,0B,kBCD1ND,EAAOC,QAAU,k1B,kBCAjBD,EAAOC,QAAU,k7B,oBCAjBD,EAAOC,QAAU,IAA0B,uC,+HCgD5BC,EAxCgB,SAACC,GAAsB,IAAD,EAEnBC,oBAAkB,GAFC,mBAE5CC,EAF4C,KAElCC,EAFkC,OAGvBF,mBAAiBD,EAAMI,QAHA,mBAG5CA,EAH4C,KAGpCC,EAHoC,KAoBjD,OACI,8BACOH,GACH,6BACA,0BAAMI,cAjBW,WACrBD,EAAUL,EAAMI,QAChBD,GAAY,KAgBHH,EAAMI,QAAU,WAIpBF,GACD,6BACI,2BAAOK,SAnBI,SAACC,GACpBH,EAAUG,EAAEC,cAAcC,QAkBeC,OAhBlB,WACvBR,GAAY,GACZH,EAAMY,aAAaR,IAeJS,WAAW,EAAMH,MAAON,O,iBCqChCU,EAvCK,SAACd,GACjB,IAAKA,EAAMe,QACP,OAAO,kBAAC,IAAD,MASX,OACI,6BAII,yBAAKC,UAAWC,IAAEC,kBACd,yBAAKC,IAAKnB,EAAMe,QAAQK,OAAOC,OAASC,IAAWN,UAAWC,IAAEM,aAC/DvB,EAAMwB,SAAW,2BAAOC,KAAK,OAAOlB,SAbrB,SAACC,GACrBA,EAAEkB,OAAOC,MAAMC,QACf5B,EAAM6B,UAAUrB,EAAEkB,OAAOC,MAAM,OAY3B,kBAAC,EAAD,CAAwBvB,OAAQJ,EAAMI,OAAQQ,aAAcZ,EAAMY,kB,0FCXnEkB,EAjCF,SAAC9B,GACV,IAAM+B,EAAQ,CACVC,MAAO,OACPC,gBAAiB,OAASC,IAAW,KAGnCC,EAAO,CACTH,MAAO,OACPC,gBAAiB,OAASG,IAAU,KAElCC,EAAM,CACRL,MAAO,OACPC,gBAAiB,OAASK,IAAS,KAGvC,OACI,yBAAKtB,UAAWC,IAAEsB,MACd,6BACI,yBAAKC,MAAOH,IACZ,0BAAMrB,UAAWC,IAAEwB,UAAnB,kBAEJ,uBAAGzB,UAAWC,IAAEyB,aAAhB,IAA+B1C,EAAM2C,QAArC,KACA,yBAAK3B,UAAWC,IAAE2B,UACd,yBAAKJ,MAAOT,EAAOf,UAAWC,IAAEc,QAChC,0BAAMf,UAAWC,IAAE4B,WAAnB,KACA,yBAAK7B,UAAWC,IAAEkB,KAAMK,MAAOL,IAC/B,0BAAMnB,UAAWC,IAAE4B,WAAY7C,EAAM8C,e,0CC/B/CC,EAAcC,YAAiB,IA+CrC,IAEIC,EAAsBC,YAAU,CAACC,KAAM,wBAAyBC,gBAFhD,SAACC,EAAaC,GAAd,OAChBA,EAASC,YAAM,4BACOL,EAhB1B,SAAwBlD,GACpB,OACI,0BAAMwD,SAAUxD,EAAMyD,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,KAAM,cAAeC,UAAWC,IAAgBC,SAAU,CAACC,IAAUhB,GACrEiB,YAAa,qBAExB,6BACI,4BAAQhD,UAAWC,IAAEgD,eAArB,iBAUDC,EAvCC,SAAClE,GACb,IAAImE,EACAnE,EAAMoE,SAASA,SAASC,KAAI,SAACC,GAAD,OAAe,kBAAC,EAAD,CAAM3B,QAAS2B,EAAK3B,QAASG,WAAYwB,EAAKxB,WAAYyB,IAAKD,EAAKE,QAMnH,OACI,yBAAKxD,UAAWC,IAAEwD,YAEd,6BACI,kBAACxB,EAAD,CAAqBO,SARf,SAACkB,GACf1E,EAAM2E,QAAQD,EAAOE,iBASjB,yBAAK5D,UAAWC,IAAE4D,OACbV,K,gBCXFW,EAFUC,aAfD,SAACC,GACrB,MAAO,CACHZ,SAAUY,EAAMC,YAChBL,YAAaI,EAAMC,gBAGA,SAAC3B,GACxB,MAAO,CACHqB,QAAS,SAACD,GACNpB,EAAS4B,IAAQC,qBAAqBT,QAMzBK,CAA6Cb,GCEvDkB,EAZC,SAACpF,GACb,OACI,6BACI,kBAAC,EAAD,CAAae,QAASf,EAAMe,QAASX,OAAQJ,EAAMI,OAAQQ,aAAcZ,EAAMY,aAAcY,QAASxB,EAAMwB,QAASK,UAAW7B,EAAM6B,YACtI,kBAAC,EAAD,Q,uBCNNwD,E,+KAGE,IAAIC,EAASC,KAAKvF,MAAMwF,MAAMC,OAAOH,OAChCA,IACDA,EAASC,KAAKvF,MAAM0F,kBAExBH,KAAKvF,MAAM2F,eAAeL,GAC1BC,KAAKvF,MAAM4F,UAAUN,K,0CAIrBC,KAAKM,mB,yCAQUC,EAA0BC,EAA0BC,GAC/DT,KAAKvF,MAAMwF,MAAMC,OAAOH,SAAWQ,EAAUN,MAAMC,OAAOH,QAC1DC,KAAKM,mB,+BAOT,OACI,kBAAC,EAAD,iBAAaN,KAAKvF,MAAlB,CAAyBe,QAASwE,KAAKvF,MAAMe,QAASX,OAAQmF,KAAKvF,MAAMI,OAChEQ,aAAc2E,KAAKvF,MAAMY,aAAcY,SAAU+D,KAAKvF,MAAMwF,MAAMC,OAAOH,OACzEzD,UAAW0D,KAAKvF,MAAM6B,iB,GAhCZoE,IAAMC,WA+CtBC,sBACXC,IACAC,IACAtB,aAXkB,SAACC,GAAD,MAAuB,CACzCjE,QAASiE,EAAMC,YAAYlE,QAC3BX,OAAQ4E,EAAMC,YAAY7E,OAC1BsF,iBAAkBV,EAAMsB,KAAKhB,OAC7BiB,OAAQvB,EAAMsB,KAAKC,UAOM,CAACZ,mBAAgBC,cAAWhF,iBAAciB,gBAHxDsE,CAIbd","file":"static/js/3.2a432ae8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"pageAvatar\":\"ProfileInfo_pageAvatar__3UAz7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\",\"addItemButton\":\"MyPosts_addItemButton__3ynm8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\",\"postName\":\"Post_postName__pPL9V\",\"postMessage\":\"Post_postMessage__2yT1f\",\"likeBtns\":\"Post_likeBtns__2eHJ3\",\"share\":\"Post_share__1b7Ma\",\"like\":\"Post_like__oViQh\",\"likeCount\":\"Post_likeCount__3jXtZ\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAYCAYAAAALQIb7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH+SURBVHgBrZZdbhoxFIXP9dhUiZoFtAtgAywgLIB2AX0v85DSlg5SXpPHSPyIJi9hAWEBzQLCAugCWEBZQEoi5seODQwhaACb4UijGcn2/eZc32sZ2FOi2y2h0/ngsoZhT0lKPnKBWxfg3rCFTlyAuWBMyQEpdW8LzOsMUe1XzxaYG+YCPAjMFkhw0dXViXckynpREYxO9Z79DWvBxeoUcd2uKqJKHMFHvT52h+k/5Z76ogEVUhhJhQfO5HA6icc4P39cn74JSLuc8CNRnUNUP3qK+lnBs5QF3Ay7aRU5WBNSDeLnqGcL2QbMhL27aVUSsCoU2nGt/oAcWgXy9UF+3SknQDWGbKAWjHAoHa+n0RSCwJ0G+fiWH7R0JXQa/fr4jTPTI4zQw9nhQbP46aD3u/2JQKPw7Gd/ZyRdpceFwvunMPy/tfRXQK8wvZgYfY2E8rMCm0b2lCopxoqKMDsdQv0UOB/o94UNaAkzwaBPA/jBclB0myUwTy9EkaCGiWRDTvIubWSTCb3jJVvQEmZcUSIvUyemkdWikeNJ1EhTlWCzdoHmsFaraD6iH43hm0aehJ+dT4stoBlMFKisdPAU5EH2pt+De1jKFjR3BtIbT384VJOS5HJqHFpKEjvVr0cbkBFTDP90AQS6v/qRA2gha9CrdFHAUbOr3K3bVe4Fj+AoK28CJIEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAbCAYAAABr/T8RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJGSURBVHgBvZZNbhoxFMffM3Yi0XAAcgCyLxfgAOEAUddNFlFbAZGyBJaRAqMGshgO0OzbHCA9QLvvHKAcoEpUMR6/vud8KBA6GYaP/wLM2H4/e3jvbyPMkfl8XkXAuiuot0i0e/8UIwIXoaNv8aeTH8uM971Tv4KgbDR0CKFMDq62E7i5azTG0rU97FWswz1U+J6Dj2OLHQ/l8fLtCG7+Nx7I/bRWhfDQNw1mqDYQcoTv9mOzBykqXAQHqOCAmyWFMJocN67SxptB/5AQ920MR8/hXnoYfJUBkFHyevUgqGUez7HNIPgC0zvo1/Wg14E1i8Hh4+aUfPj/jZMA1i2XjAigfg/u9SrSmJd5q5ZnIFIxDMrKaCpJlsLGRNFkAnvKodpF2CSY0Yg7SpH7TaAqsCEhYUkldqziv0nE1VyGTQmhIkwFp6d/gCCSuoQ1yzOIImH6cnJE16BUZvPILVU45JyaLlvvXGvctTcpZjyt4bGBSdKlQqENZ2clWLX4HPAmxYwXYF/cfECYojmHFUsbarFXXKealPipvuy3YEUSb9bD/ovNqNkH8d3khH27ushJlQb1x+Ft3J3tw7kz2Et1DKF/PR+aI1gGavgMPmqMs4GXhL8GTQfnhGeBilRqFJ5obyfv2NZrWRJOXwZt3kvNz0mBihCyiGvbvDFtacaSKGKzM/16Z6vJdliy8/pzgx+kL/otRKzGFlpPlzZZVHErJAW/7HGjmzXWQmDR1I1RFmPyJeDC4OdwH2CJkssluVvzpX0fcuofZkM9V5aidMIAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/ava-small.cf6a3084.jpg\";","import React, {useEffect, useState} from 'react';\n\ntype PropsType = {\n    status: string\n    updateStatus: (status: string) => void\n\n}\n\nconst ProfileStatusWithHooks = (props: PropsType) => {\n\n    let [editMode, setEditMode] = useState<boolean>(false)\n    let [status, setStatus] = useState<string>(props.status)\n\n\n\n    const activateEditMode = () => {\n        setStatus(props.status)\n        setEditMode(true)\n    }\n\n    const onStatusChange = (e: any) => {\n        setStatus(e.currentTarget.value)\n    }\n    const deactivateEditMode = () => {\n        setEditMode(false)\n        props.updateStatus(status)\n    }\n\n    return (\n        <div>\n            { !editMode &&\n            <div>\n            <span onDoubleClick={activateEditMode}>\n                {props.status || '------'}\n            </span>\n            </div>\n            }\n            {editMode &&\n            <div>\n                <input onChange={onStatusChange} onBlur={deactivateEditMode}\n                       autoFocus={true} value={status}/>\n            </div>\n            }\n        </div>\n    )\n}\n\n\nexport default ProfileStatusWithHooks","import React from 'react';\nimport s from './ProfileInfo.module.css';\nimport PreLoader from \"../../common/Prelouder/Preloader\";\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\nimport userImage from \"../../../assets/images/user.jpg\";\n\ntype PhotosType = {\n    small: string\n    large: string\n}\n\nexport type ContactsType = {\n    github: string\n    vk: string\n    facebook: string\n    instagram: string\n    twitter: string\n    website: string\n    youtube: string\n    mainLink: string\n}\nexport type ProfileType = {\n    aboutMe: string\n    lookingForAJob: boolean\n    lookingForAJobDescription: string\n    fullName: string\n    contacts: ContactsType\n    photos: PhotosType\n}\n\ntype PropsType = {\n    profile: ProfileType,\n    status: string,\n    updateStatus: (status: string) => void\n    isOwner: boolean\n    savePhoto: (file: any) => void\n}\n\nconst ProfileInfo = (props: PropsType) => {\n    if (!props.profile) {\n        return <PreLoader/>\n    }\n\n    const onMainPhotoSelected = (e: any) => {\n        if (e.target.files.length) {\n            props.savePhoto(e.target.files[0])\n        }\n    }\n\n    return (\n        <div>\n            {/*<div>*/}\n            {/*    <img src='https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350' />*/}\n            {/*</div>*/}\n            <div className={s.descriptionBlock}>\n                <img src={props.profile.photos.large || userImage} className={s.pageAvatar}/>\n                {props.isOwner && <input type=\"file\" onChange={onMainPhotoSelected}/>}\n                <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\n                {/*<div>*/}\n                {/*    <b>Full name:</b> {props.profile.fullName}*/}\n                {/*</div>*/}\n                {/*<div>*/}\n                {/*    <b>Looking for a job:</b> {props.profile.lookingForAJob ? 'no' : 'yes'}*/}\n                {/*</div>*/}\n                {/*<div>*/}\n                {/*    <b>My professional skills:</b> {props.profile.lookingForAJobDescription}*/}\n                {/*</div>*/}\n                {/*<div>*/}\n                {/*    <b>About me:</b> {props.profile.aboutMe}*/}\n                {/*</div>*/}\n\n            </div>\n        </div>\n\n    )\n}\n\nexport default ProfileInfo","import React from 'react';\nimport s from './Post.module.css';\nimport shareImg from '../../../../assets/images/Share.png'\nimport likeImg from '../../../../assets/images/like.png'\nimport avaImg from '../../../../assets/images/ava-small.jpg'\n\n\ntype propsType = {\n    message: string,\n    likesCount: number,\n    id?: number\n}\n\nconst Post = (props: propsType) => {\n    const share = {\n        color: 'blue',\n        backgroundImage: 'url(' + shareImg + ')',\n\n    };\n    const like = {\n        color: 'blue',\n        backgroundImage: 'url(' + likeImg + ')',\n    };\n    const ava = {\n        color: 'blue',\n        backgroundImage: 'url(' + avaImg + ')',\n\n    };\n    return (\n        <div className={s.item}>\n            <div>\n                <img style={ava}/>\n                <span className={s.postName}> Andrei Kulik</span>\n            </div>\n            <p className={s.postMessage}> {props.message} </p>\n            <div className={s.likeBtns}>\n                <div style={share} className={s.share}></div>\n                <span className={s.likeCount}>4</span>\n                <div className={s.like} style={like}></div>\n                <span className={s.likeCount}>{props.likesCount}</span>\n            </div>\n        </div>\n    )\n\n}\n\nexport default Post;","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport {PostDataType} from \"../../../redux/profile-reducer\";\nimport {reduxForm, Field, reset} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\nimport MyPostTextarea from \"../../common/FormsControls/FormsControls\";\n\nconst maxLength10 = maxLengthCreator(10)\n\nexport type PropsType = {\n    postData: {\n        postData: Array<PostDataType>\n    }\n    // newPostText: string\n    addPost: (values: string) => void\n\n}\n\n\nconst MyPosts = (props: PropsType) => {\n    let postElement =\n        props.postData.postData.map((post: any) => <Post message={post.message} likesCount={post.likesCount} key={post.id}/>)\n\n    const onAddPost = (values: any) => {\n        props.addPost(values.newPostText)\n    }\n\n    return (\n        <div className={s.postsBlock}>\n\n            <div>\n                <AddNewPostFormRedux onSubmit={onAddPost}/>\n            </div>\n            <div className={s.posts}>\n                {postElement}\n            </div>\n        </div>\n    )\n}\n\nfunction AddNewPostForm(props: any) {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field name={'newPostText'} component={MyPostTextarea} validate={[required, maxLength10]}\n                       placeholder={'What’s new'}/>\n            </div>\n            <div>\n                <button className={s.addItemButton}>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nconst afterSubmit = (result: any, dispatch: Function) =>\n    dispatch(reset('ProfileAddNewPostForm'));\nlet AddNewPostFormRedux = reduxForm({form: 'ProfileAddNewPostForm', onSubmitSuccess: afterSubmit})(AddNewPostForm)\n\nexport default MyPosts;","import React from 'react';\n\nimport MyPosts from \"./MyPosts\";\nimport {RootState} from \"../../../redux/redux-store\";\nimport {connect} from \"react-redux\";\nimport {actions} from \"../../../redux/profile-reducer\";\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        postData: state.profilePage,\n        newPostText: state.profilePage\n    }\n}\nconst mapDispatchToProps = (dispatch: Function) => {\n    return {\n        addPost: (values:string) => {\n            dispatch(actions.addPostActionCreator(values))\n        }\n    }\n}\n\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer;","import React from 'react';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nexport type PropsType = {\n    profile: any,\n    status: string,\n    updateStatus: (status: string) => void\n    isOwner: boolean\n    savePhoto: (file: any) => void\n}\n\nconst Profile = (props: PropsType) => {\n    return (\n        <div>\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} isOwner={props.isOwner} savePhoto={props.savePhoto}/>\n            <MyPostsContainer />\n        </div>\n\n\n    )\n\n}\n\nexport default Profile\n","import React from 'react';\nimport {RootState} from \"../../redux/redux-store\";\nimport Profile from './Profile';\nimport {connect} from 'react-redux';\nimport {getStatus, getUserProfile, savePhoto,updateStatus} from \"../../redux/profile-reducer\";\nimport {withRouter} from 'react-router-dom';\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\nimport {compose} from 'redux';\n\n\nclass ProfileContainer extends React.Component<any, any> {\n\n    refreshProfile() {\n        let userId = this.props.match.params.userId\n        if (!userId) {\n            userId = this.props.authorizedUserId\n        }\n        this.props.getUserProfile(userId)\n        this.props.getStatus(userId)\n    }\n\n    componentDidMount() {\n        this.refreshProfile()\n        // axios.get(`https://social-network.samuraijs.com/api/1.0/profile/`+ userId)\n        //     .then(response => {\n        //         this.props.setUserProfile(response.data)\n        //     })\n\n    }\n\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\n            this.refreshProfile()\n        }\n\n    }\n\n    render() {\n\n        return (\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status}\n                     updateStatus={this.props.updateStatus} isOwner={!this.props.match.params.userId}\n                     savePhoto={this.props.savePhoto}\n            />\n        )\n    }\n}\n\n\nlet mapStateToProps = (state: RootState) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n\n})\n\nexport default compose(\n    WithAuthRedirect,\n    withRouter,\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto}),\n)(ProfileContainer)\n\n\n\n\n"],"sourceRoot":""}